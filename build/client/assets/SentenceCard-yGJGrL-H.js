import{b as j,t as e}from"./index-CWD__XTI.js";import{P as c,S as p,G as o,A as u}from"./api-CuIHRb5R.js";import{T as i,B as f}from"./AuthProvider-DIbg4P3B.js";import{C as x,T as g}from"./Tooltip-BmlxqTPC.js";function w({searchQuery:a}){const l=j.useRef(null),t=j.useRef(""),m=j.useRef(0);return j.useEffect(()=>{m.current+=1;const h=`gcse-search-${m.current}`,n=()=>{if(l.current&&a){l.current.innerHTML="";const s=document.createElement("div");if(s.className="gcse-search",s.id=h,s.setAttribute("data-queryParameterName","search"),s.setAttribute("data-autoSearchOnLoad","true"),l.current.appendChild(s),window.google?.search?.cse?.element)try{window.google.search.cse.element.render({div:h,tag:"search",gname:h,attributes:{queryParameterName:"search",enableAutoComplete:!0}})}catch(r){console.error("Error rendering Google CSE:",r)}setTimeout(()=>{const r=l.current?.querySelector("input.gsc-input");if(r){r.value=a;const d=l.current?.querySelector("button.gsc-search-button");d&&(d.addEventListener("click",b=>{b.preventDefault(),b.stopPropagation()},{once:!0,capture:!0}),setTimeout(()=>d.click(),100))}},500)}};if(a!==t.current)if(t.current=a,window.google?.search?.cse)n();else{const s=setInterval(()=>{window.google?.search?.cse&&(clearInterval(s),n())},100);setTimeout(()=>clearInterval(s),1e4)}},[a]),e.jsxs(c,{p:"lg",radius:"md",withBorder:!0,mt:"lg",children:[e.jsxs(i,{size:"sm",c:"dimmed",mb:"md",fw:500,children:['Image Search Results for "',a,'"']}),e.jsx("div",{ref:l,id:"google-search-container"})]})}function k({phrase:a,selectedWord:l,wordData:t,isLoading:m,onBack:h,isForvoAudio:n=!1}){return e.jsxs(c,{p:"xl",radius:"lg",shadow:"sm",className:"bg-white border border-gray-100",children:[e.jsxs(p,{gap:"lg",children:[e.jsxs(o,{justify:"space-between",align:"center",className:"pb-4 border-b border-gray-100",children:[e.jsx(f,{variant:"light",onClick:h,leftSection:e.jsx("span",{children:"â†"}),className:"hover:shadow-sm",children:"Back to Sentence"}),e.jsx("div",{className:"px-3 py-1.5 bg-blue-50 rounded-full",children:e.jsx(i,{size:"sm",fw:600,c:"blue.7",children:l})})]}),m?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(i,{c:"dimmed",children:"Loading word data..."})}):t?e.jsxs(p,{gap:"md",children:[e.jsxs("div",{children:[e.jsx(i,{size:"xs",tt:"uppercase",fw:600,c:"dimmed",mb:"xs",className:"tracking-wider",children:"Base Form"}),e.jsx(c,{p:"md",className:"bg-gradient-to-br from-blue-50 to-indigo-50 border border-blue-100",radius:"md",children:e.jsxs(o,{justify:"space-between",align:"center",children:[e.jsx(i,{fw:600,size:"lg",c:"blue.9",children:t.baseForm}),e.jsx(x,{value:t.baseForm,children:({copied:s,copy:r})=>e.jsx(g,{label:s?"Copied":"Copy",withArrow:!0,position:"left",children:e.jsx(u,{color:s?"teal":"blue",variant:"subtle",onClick:r,size:"lg",children:s?"âœ“":"ðŸ“‹"})})})]})})]}),e.jsxs("div",{children:[e.jsx(i,{size:"xs",tt:"uppercase",fw:600,c:"dimmed",mb:"xs",className:"tracking-wider",children:"English Translation"}),e.jsx(c,{p:"md",className:"bg-gray-50 border border-gray-200",radius:"md",children:e.jsxs(o,{justify:"space-between",align:"center",children:[e.jsx(i,{fw:500,children:t.englishTranslation}),e.jsx(x,{value:t.englishTranslation,children:({copied:s,copy:r})=>e.jsx(g,{label:s?"Copied":"Copy",withArrow:!0,position:"left",children:e.jsx(u,{color:s?"teal":"gray",variant:"subtle",onClick:r,children:s?"âœ“":"ðŸ“‹"})})})]})})]}),e.jsxs("div",{children:[e.jsx(i,{size:"xs",tt:"uppercase",fw:600,c:"dimmed",mb:"xs",className:"tracking-wider",children:"Russian Meaning"}),e.jsx(c,{p:"md",className:"bg-gray-50 border border-gray-200",radius:"md",children:e.jsxs(o,{justify:"space-between",align:"flex-start",children:[e.jsx(i,{fw:500,style:{flex:1},children:t.russianMeaning}),e.jsx(x,{value:t.russianMeaning,children:({copied:s,copy:r})=>e.jsx(g,{label:s?"Copied":"Copy",withArrow:!0,position:"left",children:e.jsx(u,{color:s?"teal":"gray",variant:"subtle",onClick:r,children:s?"âœ“":"ðŸ“‹"})})})]})})]}),e.jsxs("div",{children:[e.jsx(i,{size:"xs",tt:"uppercase",fw:600,c:"dimmed",mb:"xs",className:"tracking-wider",children:"Phrase"}),e.jsx(c,{p:"md",className:"bg-gray-50 border border-gray-200",radius:"md",children:e.jsxs(o,{justify:"space-between",align:"center",children:[e.jsx(i,{fw:500,children:a.Phrase}),e.jsx(x,{value:a.Phrase,children:({copied:s,copy:r})=>e.jsx(g,{label:s?"Copied":"Copy",withArrow:!0,position:"left",children:e.jsx(u,{color:s?"teal":"gray",variant:"subtle",onClick:r,children:s?"âœ“":"ðŸ“‹"})})})]})})]}),e.jsxs("div",{children:[e.jsx(i,{size:"xs",tt:"uppercase",fw:600,c:"dimmed",mb:"xs",className:"tracking-wider",children:"Phrase with Stress Marks"}),e.jsx(c,{p:"md",className:"bg-gray-50 border border-gray-200",radius:"md",children:e.jsxs(o,{justify:"space-between",align:"center",children:[e.jsx(i,{fw:500,children:a.PhraseStress}),e.jsx(x,{value:a.PhraseStress,children:({copied:s,copy:r})=>e.jsx(g,{label:s?"Copied":"Copy",withArrow:!0,position:"left",children:e.jsx(u,{color:s?"teal":"gray",variant:"subtle",onClick:r,children:s?"âœ“":"ðŸ“‹"})})})]})})]}),e.jsxs("div",{children:[e.jsx(i,{size:"xs",tt:"uppercase",fw:600,c:"dimmed",mb:"xs",className:"tracking-wider",children:"Audio"}),e.jsx(c,{p:"md",className:"bg-gray-50 border border-gray-200",radius:"md",children:e.jsxs(o,{justify:"space-between",align:"center",wrap:"nowrap",children:[e.jsxs("audio",{controls:!0,style:{flex:1},className:"h-10",children:[e.jsx("source",{src:a.Audio,type:"audio/mpeg"}),"Your browser does not support the audio element."]}),e.jsx(x,{value:n?a.Audio+".mp3":a.Audio,children:({copied:s,copy:r})=>e.jsx(g,{label:s?"Copied":"Copy",withArrow:!0,position:"left",children:e.jsx(u,{color:s?"teal":"gray",variant:"subtle",onClick:r,children:s?"âœ“":"ðŸ“‹"})})})]})})]})]}):e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(i,{c:"red",fw:500,children:"Failed to load word data"})})]}),t&&e.jsx(w,{searchQuery:l})]})}function S({phrase:a,onSelectWords:l,selectedWords:t}){const m=a.Phrase.split(/\s+/),h=r=>{s(d=>d.includes(r)?d.filter(b=>b!==r):[...d,r])},[n,s]=j.useState([]);return e.jsx(c,{p:"xl",radius:"lg",shadow:"sm",className:"bg-white border border-gray-100",children:e.jsxs(p,{gap:"lg",children:[e.jsxs("div",{children:[e.jsxs(i,{size:"sm",c:"dimmed",mb:"md",className:"flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ’¡"})," Click on words to select them for flashcard creation"]}),e.jsx(c,{p:"lg",className:"bg-gradient-to-br from-gray-50 to-slate-50 border border-gray-200",radius:"md",style:{lineHeight:2,minHeight:"100px",display:"flex",alignItems:"center"},children:e.jsx(o,{gap:"sm",wrap:"wrap",children:m.map((r,d)=>e.jsx(f,{variant:n.includes(r)?"filled":"light",size:"md",onClick:()=>h(r),className:n.includes(r)?"shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all":"hover:shadow-sm transform hover:-translate-y-0.5 transition-all",styles:{root:{fontWeight:500}},children:r},d))})})]}),n.length>0&&e.jsxs(o,{justify:"flex-end",className:"pt-2 border-t border-gray-100",children:[e.jsx(f,{variant:"light",onClick:()=>s([]),className:"hover:shadow-sm transition-all",children:"Clear Selection"}),e.jsxs(f,{onClick:()=>l(n),className:"shadow-md hover:shadow-lg transition-all",leftSection:e.jsx("span",{children:"âœ¨"}),children:["Create Flashcards (",n.length,")"]})]})]})})}export{k as F,S};
